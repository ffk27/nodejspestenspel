<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link rel="stylesheet" type="text/css" href="game.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.min.js"></script>
    <script src="script.js"></script>

    <title>Pesten Online</title>
    <style>
        .stapel {
            display: inline-block;
            width: 102px;
            height: 149px;
            border: 2px solid black;
        }
    </style>
    <script>
        function allowDrop(ev) {
            ev.preventDefault();
        }

        function drag(ev) {
            ev.dataTransfer.setData("card", ev.target.id);
        }

        function drop(ev) {
            ev.preventDefault();
            var data = ev.dataTransfer.getData("card");
            socket.emit('legop', data);
            socket.on('magopleggen', function(data) {
                if (ev.target.firstChild) {
                    ev.target.replaceChild(document.getElementById(data),ev.target.firstChild);
                }
                else {
                    ev.target.appendChild(document.getElementById(data));
                }
            });
        }
    </script>
</head>
<body>
<section id="wrapper">
    <header>
        <h1 id="username"></h1>
    </header>

    <section id="controls">
        <input type="button" onclick="startGame()" value="SPEL STARTEN">
    </section>
    <section id="playersinfo">
        Medespelers:<br>
        <div id="allplayers"></div>
    </section>
    <section id="content">
        <section class="stapel" id="trekstapel"></section>
        <section class="stapel" id="aflegstapel" ondrop="drop(event)" ondragover="allowDrop(event)"></section>
        <section id="playercards"></section>
    </section>

    <footer>
        &copy; Floris, Boris & Brian, 2004 - 2017
    </footer>
</section>
</body>
</html>